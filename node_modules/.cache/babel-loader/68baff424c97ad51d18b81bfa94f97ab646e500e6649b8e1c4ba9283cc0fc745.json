{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\johan_9mx9tzb\\\\Downloads\\\\SDcONCERT\\\\sdconcert\\\\src\\\\CountDown.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport './CountDown.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CountDown(_ref) {\n  _s();\n  let {\n    date,\n    image\n  } = _ref;\n  const [timeLeft, setTimeLeft] = useState(null);\n  const [showImage, setShowImage] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const apiTimeRef = useRef(null);\n  useEffect(() => {\n    const fetchCurrentTime = async () => {\n      try {\n        let apiTime = localStorage.getItem('apiTime');\n        if (!apiTime) {\n          const response = await fetch('https://timezone.abstractapi.com/v1/current_time/?api_key=230b60716c454170a8e31c621ba6d9fc&location=San%20Jose,%20Costa%20Rica');\n          const data = await response.json();\n          apiTime = new Date(data.datetime.replace(' ', 'T')).getTime();\n          localStorage.setItem('apiTime', apiTime);\n        }\n        apiTimeRef.current = apiTime;\n        const now = new Date().getTime();\n        const distance = apiTime - now + date.getTime();\n        const days = Math.floor(distance / (1000 * 60 * 60 * 24));\n        const hours = Math.floor(distance / (1000 * 60 * 60) % 24);\n        const minutes = Math.floor(distance / (1000 * 60) % 60);\n        const seconds = Math.floor(distance / 1000 % 60);\n        setTimeLeft({\n          days,\n          hours,\n          minutes,\n          seconds\n        });\n        setIsLoading(false);\n        if (days <= 0 && hours <= 0 && minutes <= 0 && seconds <= 0) {\n          setShowImage(true);\n        }\n      } catch (error) {\n        console.error('Error al obtener la hora de la API:', error);\n      }\n    };\n    fetchCurrentTime();\n    const interval = setInterval(() => {\n      if (timeLeft !== null) {\n        const now = new Date().getTime();\n        const distance = apiTimeRef.current - now + date.getTime();\n        const days = Math.floor(distance / (1000 * 60 * 60 * 24));\n        const hours = Math.floor(distance / (1000 * 60 * 60) % 24);\n        const minutes = Math.floor(distance / (1000 * 60) % 60);\n        const seconds = Math.floor(distance / 1000 % 60);\n        setTimeLeft(prevState => ({\n          ...prevState,\n          days,\n          hours,\n          minutes,\n          seconds\n        }));\n        if (days <= 0 && hours <= 0 && minutes <= 0 && seconds <= 0) {\n          setShowImage(true);\n        }\n      }\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [date]);\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Cargando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: timeLeft !== null && timeLeft.days >= 0 && (timeLeft.days > 0 || timeLeft.hours > 0 || timeLeft.minutes > 0 || timeLeft.seconds > 0) ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"countdown-text\",\n      children: [timeLeft.days, \" d\\xEDas, \", timeLeft.hours, \" horas, \", timeLeft.minutes, \" minutos, \", timeLeft.seconds, \" segundos para el evento\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this) : showImage && /*#__PURE__*/_jsxDEV(\"img\", {\n      src: image,\n      alt: \"Evento finalizado\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 22\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_s(CountDown, \"rIaaYXN+YhCbqvp8+J8GcBJdee8=\");\n_c = CountDown;\nexport default CountDown;\nvar _c;\n$RefreshReg$(_c, \"CountDown\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","CountDown","_ref","_s","date","image","timeLeft","setTimeLeft","showImage","setShowImage","isLoading","setIsLoading","apiTimeRef","fetchCurrentTime","apiTime","localStorage","getItem","response","fetch","data","json","Date","datetime","replace","getTime","setItem","current","now","distance","days","Math","floor","hours","minutes","seconds","error","console","interval","setInterval","prevState","clearInterval","children","fileName","_jsxFileName","lineNumber","columnNumber","className","src","alt","_c","$RefreshReg$"],"sources":["C:/Users/johan_9mx9tzb/Downloads/SDcONCERT/sdconcert/src/CountDown.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport './CountDown.css';\r\n\r\nfunction CountDown({ date, image }) {\r\n  const [timeLeft, setTimeLeft] = useState(null);\r\n  const [showImage, setShowImage] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const apiTimeRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const fetchCurrentTime = async () => {\r\n      try {\r\n        let apiTime = localStorage.getItem('apiTime');\r\n        if (!apiTime) {\r\n          const response = await fetch('https://timezone.abstractapi.com/v1/current_time/?api_key=230b60716c454170a8e31c621ba6d9fc&location=San%20Jose,%20Costa%20Rica');\r\n          const data = await response.json();\r\n          apiTime = new Date(data.datetime.replace(' ', 'T')).getTime();\r\n          localStorage.setItem('apiTime', apiTime);\r\n        }\r\n        apiTimeRef.current = apiTime;\r\n\r\n        const now = new Date().getTime();\r\n        const distance = apiTime - now + date.getTime();\r\n        const days = Math.floor(distance / (1000 * 60 * 60 * 24));\r\n        const hours = Math.floor((distance / (1000 * 60 * 60)) % 24);\r\n        const minutes = Math.floor((distance / (1000 * 60)) % 60);\r\n        const seconds = Math.floor((distance / 1000) % 60);\r\n        setTimeLeft({ days, hours, minutes, seconds });\r\n        setIsLoading(false);\r\n\r\n        if (days <= 0 && hours <= 0 && minutes <= 0 && seconds <= 0) {\r\n          setShowImage(true);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error al obtener la hora de la API:', error);\r\n      }\r\n    };\r\n\r\n    fetchCurrentTime();\r\n\r\n    const interval = setInterval(() => {\r\n      if (timeLeft !== null) {\r\n        const now = new Date().getTime();\r\n        const distance = apiTimeRef.current - now + date.getTime();\r\n        const days = Math.floor(distance / (1000 * 60 * 60 * 24));\r\n        const hours = Math.floor((distance / (1000 * 60 * 60)) % 24);\r\n        const minutes = Math.floor((distance / (1000 * 60)) % 60);\r\n        const seconds = Math.floor((distance / 1000) % 60);\r\n        setTimeLeft(prevState => ({ ...prevState, days, hours, minutes, seconds }));\r\n        if (days <= 0 && hours <= 0 && minutes <= 0 && seconds <= 0) {\r\n          setShowImage(true);\r\n        }\r\n      }\r\n    }, 1000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [date]);\r\n\r\n  if (isLoading) {\r\n    return <p>Cargando...</p>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {timeLeft !== null && timeLeft.days >= 0 && (timeLeft.days > 0 || timeLeft.hours > 0 || timeLeft.minutes > 0 || timeLeft.seconds > 0) ? (\r\n        <p className=\"countdown-text\">{timeLeft.days} d√≠as, {timeLeft.hours} horas, {timeLeft.minutes} minutos, {timeLeft.seconds} segundos para el evento</p>\r\n      ) : (\r\n        showImage && <img src={image} alt=\"Evento finalizado\" />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default CountDown;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}