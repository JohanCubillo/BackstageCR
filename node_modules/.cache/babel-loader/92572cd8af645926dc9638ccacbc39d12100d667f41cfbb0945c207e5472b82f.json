{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/johan_9mx9tzb/Downloads/SDcONCERT/sdconcert/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/johan_9mx9tzb/Downloads/SDcONCERT/sdconcert/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/johan_9mx9tzb/Downloads/SDcONCERT/sdconcert/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'./CountDown.css';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function CountDown(_ref){var date=_ref.date,image=_ref.image;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),timeLeft=_useState2[0],setTimeLeft=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showImage=_useState4[0],setShowImage=_useState4[1];useEffect(function(){var fetchCurrentTime=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,apiTime,now,distance,days,hours,minutes,seconds;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('https://timezone.abstractapi.com/v1/current_time/?api_key=230b60716c454170a8e31c621ba6d9fc&location=Oxford,%20United%20Kingdom');case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;apiTime=new Date(data.datetime.replace(' ','T'));now=new Date().getTime();distance=apiTime.getTime()-now;// Utiliza la hora de la API para calcular la diferencia de tiempo.\ndays=Math.floor(distance/(1000*60*60*24));hours=Math.floor(distance%(1000*60*60*24)/(1000*60*60));minutes=Math.floor(distance%(1000*60*60)/(1000*60));seconds=Math.floor(distance%(1000*60)/1000);setTimeLeft({days:days,hours:hours,minutes:minutes,seconds:seconds});if(days<=0&&hours<=0&&minutes<=0&&seconds<=0){setShowImage(true);}_context.next=21;break;case 18:_context.prev=18;_context.t0=_context[\"catch\"](0);console.error('Error al obtener la hora de la API:',_context.t0);case 21:case\"end\":return _context.stop();}},_callee,null,[[0,18]]);}));return function fetchCurrentTime(){return _ref2.apply(this,arguments);};}();fetchCurrentTime();// Realiza la petición al cargar el componente\nvar interval=setInterval(function(){var now=new Date().getTime();var distance=date.getTime()-now;var days=Math.floor(distance/(1000*60*60*24));var hours=Math.floor(distance%(1000*60*60*24)/(1000*60*60));var minutes=Math.floor(distance%(1000*60*60)/(1000*60));var seconds=Math.floor(distance%(1000*60)/1000);setTimeLeft({days:days,hours:hours,minutes:minutes,seconds:seconds});if(days<=0&&hours<=0&&minutes<=0&&seconds<=0){setShowImage(true);}},1000);return function(){return clearInterval(interval);};},[date]);return/*#__PURE__*/_jsx(\"div\",{children:timeLeft!==null&&(timeLeft.days>0||timeLeft.hours>0||timeLeft.minutes>0||timeLeft.seconds>0)?/*#__PURE__*/_jsxs(\"p\",{className:\"countdown-text\",children:[timeLeft.days,\" d\\xEDas, \",timeLeft.hours,\" horas, \",timeLeft.minutes,\" minutos, \",timeLeft.seconds,\" segundos para el evento\"]}):showImage&&/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"Evento finalizado\"})});}export default CountDown;","map":{"version":3,"names":["React","useState","useEffect","jsxs","_jsxs","jsx","_jsx","CountDown","_ref","date","image","_useState","_useState2","_slicedToArray","timeLeft","setTimeLeft","_useState3","_useState4","showImage","setShowImage","fetchCurrentTime","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","apiTime","now","distance","days","hours","minutes","seconds","wrap","_callee$","_context","prev","next","fetch","sent","json","Date","datetime","replace","getTime","Math","floor","t0","console","error","stop","apply","arguments","interval","setInterval","clearInterval","children","className","src","alt"],"sources":["C:/Users/johan_9mx9tzb/Downloads/SDcONCERT/sdconcert/src/CountDown.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './CountDown.css';\r\n\r\nfunction CountDown({ date, image }) {\r\n  const [timeLeft, setTimeLeft] = useState(null);\r\n  const [showImage, setShowImage] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchCurrentTime = async () => {\r\n      try {\r\n        const response = await fetch('https://timezone.abstractapi.com/v1/current_time/?api_key=230b60716c454170a8e31c621ba6d9fc&location=Oxford,%20United%20Kingdom');\r\n        const data = await response.json();\r\n        const apiTime = new Date(data.datetime.replace(' ', 'T'));\r\n        const now = new Date().getTime();\r\n        const distance = apiTime.getTime() - now; // Utiliza la hora de la API para calcular la diferencia de tiempo.\r\n        const days = Math.floor(distance / (1000 * 60 * 60 * 24));\r\n        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\r\n        const seconds = Math.floor((distance % (1000 * 60)) / 1000);\r\n        setTimeLeft({ days, hours, minutes, seconds });\r\n        if (days <= 0 && hours <= 0 && minutes <= 0 && seconds <= 0) {\r\n          setShowImage(true);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error al obtener la hora de la API:', error);\r\n      }\r\n    };\r\n\r\n    fetchCurrentTime(); // Realiza la petición al cargar el componente\r\n\r\n    const interval = setInterval(() => {\r\n      const now = new Date().getTime();\r\n      const distance = date.getTime() - now;\r\n      const days = Math.floor(distance / (1000 * 60 * 60 * 24));\r\n      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\r\n      const seconds = Math.floor((distance % (1000 * 60)) / 1000);\r\n      setTimeLeft({ days, hours, minutes, seconds });\r\n      if (days <= 0 && hours <= 0 && minutes <= 0 && seconds <= 0) {\r\n        setShowImage(true);\r\n      }\r\n    }, 1000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [date]);\r\n\r\n  return (\r\n    <div>\r\n      {timeLeft !== null && (timeLeft.days > 0 || timeLeft.hours > 0 || timeLeft.minutes > 0 || timeLeft.seconds > 0) ? (\r\n        <p className=\"countdown-text\">\r\n          {timeLeft.days} días, {timeLeft.hours} horas, {timeLeft.minutes} minutos, {timeLeft.seconds} segundos para el evento\r\n        </p>\r\n      ) : (\r\n        showImage && <img src={image} alt=\"Evento finalizado\" />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CountDown;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}